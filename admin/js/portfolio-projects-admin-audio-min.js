!function($){"use strict";var t;$(".project-audio-media-button").on("click",function(e){e.preventDefault();var i,a,o=$(this),r=o.parent(),n=o.data("file-type"),p=o.data("media-type"),l=o.parent().siblings('input[type="hidden"]').val(),u="audio"==p?portfolio_projects_audio_params.audio_title:portfolio_projects_audio_params.poster_title,d="audio"==p?portfolio_projects_audio_params.audio_button.replace("%%filetype%%","."+n):portfolio_projects_audio_params.poster_button;t=wp.media({title:u,button:{text:d},multiple:!1}),t.on("open",function(){t.state().trigger("insert",i).reset(),""!=l&&(a=wp.media.attachment(l),a.fetch(),t.state().get("selection").add(a))}).on("select",function(){i=t.state().get("selection"),i.map(function(t){if(t=t.toJSON(),"audio"==p){var e=t.filename.substr(t.filename.lastIndexOf(".")+1);if(void 0!==n&&!1!==n&&n!=e){var i=portfolio_projects_audio_params.audio_type_invalid.replace("%%filetype%%","."+n);return alert(i),!1}}return r.siblings(".project-audio-media-url").val(t.url),r.siblings(".project-audio-media-id").val(t.id),!1})}).open()}),$(".project-audio-media-url").on("blur",function(t){var e=$(this);e.val()||e.siblings(".project-audio-media-id").val("")})}(jQuery);