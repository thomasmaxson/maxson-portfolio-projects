!function($){"use strict";var e;$(".project-video-media-button").on("click",function(t){t.preventDefault();var i,o,a=$(this),r=a.parent(),l=a.data("file-type"),n=a.data("media-type"),p=a.parent().siblings('input[type="hidden"]').val(),d="video"==n?portfolio_projects_video_params.video_title:portfolio_projects_video_params.poster_title,s="video"==n?portfolio_projects_video_params.video_button.replace("%%filetype%%","."+l):portfolio_projects_video_params.poster_button;e=wp.media({title:d,button:{text:s},toolbar:"main-insert",filterable:"dates",multiple:!1,editable:!0}),e.on("open",function(){e.state().trigger("insert",i).reset(),e.state().set("library",media.query({type:l})),""!=p&&(o=wp.media.attachment(p),o.fetch(),e.state().get("selection").add(o))}).on("select",function(){i=e.state().get("selection"),i.map(function(e){if(e=e.toJSON(),"video"==n){var t=e.filename.substr(e.filename.lastIndexOf(".")+1);if(void 0!==l&&!1!==l&&l!=t){var i=portfolio_projects_video_params.video_type_invalid.replace("%%filetype%%","."+l);return alert(i),!1}}return r.siblings(".project-video-media-url").val(e.url),r.siblings(".project-video-media-id").val(e.id),!1})}).open()}),$(".project-video-media-url").on("blur",function(e){var t=$(this);t.val()||t.siblings(".project-video-media-id").val("")})}(jQuery);