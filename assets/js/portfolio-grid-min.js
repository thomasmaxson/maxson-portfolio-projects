!function(t){"use strict";var o=window.MAXSON_PORTFOLIO||{};window.MAXSON_PORTFOLIO=o,o.components=o.components||{},o.helpers=o.helpers||{},o.siteInit=function(){this.defaultConfig(),this.bindEvents()},o.defaultConfig=function(){this.config={$document:t(document),$window:t(window),$windowWidth:t(window).width(),$windowHeight:t(window).height(),$html:t("html"),$body:t("body")}},o.updateConfig=function(){this.config.$html=t("html"),this.config.$body=t("body")},o.bindEvents=function(){var t=this;t.config.$document.ready((function(){t.updateConfig()})),t.config.$window.on("load",(function(){t.portfolioGrid()}))},o.helpers.parseData=function(t,o){return void 0!==t?t:o},o.portfolioGrid=function(e){var i=t(MaxsonPortfolioParams.selector.portfolio_grid),n;o.helpers.parseData(e,i).each((function(){o.components.isotope(t(this))}))},o.components.portfolioGridFilters=function(e,i){var n=this,r=e.find(MaxsonPortfolioParams.selector.portfolio_filters),s;if(r.find("select").length){var a=r.find("select");a.find("option:first").attr("selected","selected"),a.on("change",(function(e){e.preventDefault();var n=t(this),r=n.find("option"),a=n.val();s=n.find('option[value="'+a+'"]').attr("data-filter"),o.components.isotopeFilter(i,s),n.find('option[value="'+a+'"]').attr("selected","selected").siblings().removeAttr("selected")}))}else r.find("li:first").addClass("active"),r.on("click","button",(function(e){e.preventDefault();var n=t(this),r=n.parent();s=n.attr("data-filter"),o.components.isotopeFilter(i,s),r.addClass("active").siblings().removeClass("active")}))},o.components.isotope=function(e){var i=this,n=e.find(MaxsonPortfolioParams.selector.portfolio_teasers);if(!t.isFunction(t.fn.isotope))return console.error("jQuery Isotope plugin does not exist."),!1;n.length&&n.each((function(){var i=t(this),r=e.data(),s=o.helpers.parseData(r.transitionduration,350),a=o.helpers.parseData(r.layoutmode,"masonry"),l={filter:"*",itemSelector:MaxsonPortfolioParams.selector.project_teaser,percentPosition:!0,resizesContainer:!0,resizable:!1,transitionDuration:s,layoutMode:a,hiddenStyle:{opacity:0},visibleStyle:{opacity:1}};n.isotope(l),o.components.portfolioGridFilters(e,n)}))},o.components.isotopeFilter=function(t,e){if(0==(t=o.helpers.parseData(t,!1))||!t.length)return!1;var i={filter:e,sortBy:"*"===e?"original-order":"random"};t.isotope(i)},o.siteInit()}(jQuery);