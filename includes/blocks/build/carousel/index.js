(()=>{var e,t={910:(e,t,a)=>{"use strict";const l=window.wp.blocks,o=JSON.parse('{"u2":"maxson-portfolio-projects/project-carousel"}'),n=window.React,r=window.wp.i18n,i=window.wp.blockEditor,s=window.wp.components,c=window.wp.element,u=window.lodash;var m=a(967),d=a.n(m);const p=window.wp.blob;function g({url:e,alt:t,id:a,isSelected:l,onSelect:o,onRemove:i,onMoveForward:c,onMoveBackward:u,isFirstItem:m,isLastItem:g}){const v=()=>{l||o()},f=d()({"is-selected":l,"is-transient":(0,p.isBlobURL)(e)});return(0,n.createElement)("figure",{className:f},l&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)("div",{className:"block-carousel-slide--action-reorder"},(0,n.createElement)(s.Button,{label:m?void 0:(0,r.__)("Move Image Backward","maxson"),icon:"arrow-left",className:"block-carousel-slide--action-move-backward",onClick:m?void 0:u,isSmall:!0,"aria-disabled":m,disabled:!l}),(0,n.createElement)(s.Button,{label:g?void 0:(0,r.__)("Move Image Forward","maxson"),className:"block-carousel-slide--action-move-forward",onClick:g?void 0:c,icon:"arrow-right",isSmall:!0,"aria-disabled":g,disabled:!l})),(0,n.createElement)("div",{className:"block-carousel-slide--action-remove"},(0,n.createElement)(s.Button,{onClick:i,className:"blocks-gallery-item__remove",label:(0,r.__)("Remove Image"),isSmall:!0,isDestructive:!0,icon:"no-alt"}))),(0,n.createElement)("img",{src:e,alt:t,className:"block-carousel-slide--image",tabIndex:"0","data-id":a,onClick:v,onKeyDown:v}))}const v=[{value:"fade",label:(0,r.__)("Fade","maxson")},{value:"scroll",label:(0,r.__)("Scroll","maxson")}],f=[],b=["image"];(0,l.registerBlockType)(o.u2,{edit:function({attributes:e,isSelected:t,noticeUI:a,setAttributes:l}){const{images:o,autoplay:m,effect:d,pauseOnHover:p,showNavigation:h,showPagination:w,imageResolution:_,speed:E}=e,[k,C]=(0,c.useState)(null),y=(0,i.useBlockProps)();o.length>0&&(imageResolutionOptions=function(e,t,a){return(0,c.useMemo)((()=>function(){if(!e||0===e.length)return;const{imageSizes:l}=a();let o={};t&&(o=e.reduce(((e,t)=>{if(!t.id)return e;const a=l.reduce(((e,a)=>{const l=t.sizes?.[a.slug]?.url,o=t.media_details?.sizes?.[a.slug]?.source_url;return{...e,[a.slug]:l||o}}),{});return{...e,[parseInt(t.id,10)]:a}}),{}));const n=Object.values(o);return l.filter((({slug:e})=>n.some((t=>t[e])))).map((({name:e,slug:t})=>({value:t,label:e})))}()),[e,t])}(o[0],!1,getSettings()));const S=e=>{const t=e.map((e=>((e,t)=>{const a=Object.fromEntries(Object.entries(null!=e?e:{}).filter((([e])=>["alt","id","link","caption"].includes(e))));return a.url=e?.sizes?.[t]?.url||e?.media_details?.sizes?.[t]?.source_url||e.url,a})(e,"project_large")));l({images:t})},x=e=>()=>{k!==e&&(k=e)},O=t=>()=>{const a=(0,u.filter)(e.images,((e,a)=>t!==a));k=null,l({images:a})},N=(e,t)=>{let a=[...o];a.splice(t,1,o[e]),a.splice(e,1,o[t]),C(t),l({images:a})};function B(){l({images:[]})}return 0===o.length?(0,n.createElement)("div",{...y},(0,n.createElement)(n.Fragment,null,(0,n.createElement)(i.MediaPlaceholder,{icon:"format-gallery",labels:{title:(0,r.__)("Carousel","maxson")},onSelect:S,accept:"image/*",allowedTypes:b,multiple:!0,notices:a}))):(0,n.createElement)(n.Fragment,null,a,(0,n.createElement)(i.BlockControls,null,!!o.length&&(0,n.createElement)(s.ToolbarGroup,null,(0,n.createElement)(s.ToolbarItem,null,(()=>(0,n.createElement)(i.MediaUploadCheck,null,(0,n.createElement)(i.MediaUpload,{onSelect:S,allowedTypes:b,multiple:!0,gallery:!0,value:o.map((e=>e.id)),render:({open:e})=>(0,n.createElement)(n.Fragment,null,(0,n.createElement)(s.Button,{onClick:e,className:"components-toolbar__control",label:(0,r.__)("Add/Edit Carousel Images","maxson"),isSmall:!0,icon:"edit"}),(0,n.createElement)(s.Button,{onClick:B,className:"components-toolbar__control",label:(0,r.__)("Clear Carousel Images"),icon:"trash"}))})))))),(0,n.createElement)(i.InspectorControls,null,(0,n.createElement)(s.PanelBody,{title:(0,r.__)("Carousel Settings","maxson")},(0,n.createElement)(s.ToggleControl,{label:(0,r.__)("Autoplay","maxson"),checked:!!m,onChange:e=>{l({autoplay:e})}}),m?(0,n.createElement)(s.ToggleControl,{label:(0,r.__)("Pause on hover","maxson"),checked:!!p,onChange:e=>{l({pauseOnHover:e})}}):"",(0,n.createElement)(s.ToggleControl,{label:(0,r.__)("Show Navigation","maxson"),checked:!!h,onChange:e=>{l({showNavigation:e})}}),(0,n.createElement)(s.ToggleControl,{label:(0,r.__)("Show Pagination","maxson"),checked:!!w,onChange:e=>{l({showPagination:e})}}),(0,n.createElement)(s.TextControl,{label:(0,r.__)("Speed","maxson"),type:"number",min:"100",max:"500",value:E,onChange:e=>{l({speed:e})}}),(0,n.createElement)(s.SelectControl,{label:(0,r.__)("Effect","maxson"),value:d,onChange:e=>{l({effect:e})},options:v}),f?.length>0&&(0,n.createElement)(s.SelectControl,{label:(0,r.__)("Slide Resolution","maxson"),help:(0,r.__)("Select the size of the source images.","maxson"),value:_,options:imageResolutionOptions,hideCancelButton:!0}))),(0,n.createElement)("div",{...y},o.map(((a,r)=>(0,n.createElement)("div",{className:"block-carousel-slide",key:a.id||a.url},(0,n.createElement)(g,{url:a.url,alt:a.alt,id:a.id,caption:a.caption,onSelect:x(r),onRemove:O(r),isSelected:t,setAttributes:t=>((t,a)=>{const{images:o}=e;o[t]&&l({images:[...o.slice(0,t),{...o[t],...a},...o.slice(t+1)]})})(r,t),onMoveBackward:()=>{var e;0!==(e=r)&&N(e,e-1)},onMoveForward:()=>{var e;(e=r)!==o.length-1&&N(e,e+1)},isFirstItem:0===r,isLastItem:r+1===o.length}))))))},save:function({attributes:e}){const{images:t,imageCrop:a,autoplay:l,pauseOnHover:o,arrows:r,dots:s,speed:c,effect:u,linkTo:m,target:d,adaptiveHeight:p}=e;let g=i.useBlockProps.save({className:a?"is-cropped":"","data-autoplay":l,"data-speed":c,"data-effect":u,"data-arrows":r,"data-dots":s});return p&&(g={...g,"data-adaptiveHeight":p}),o&&(g={...g,"data-pauseOnHover":o}),(0,n.createElement)("ul",{...g},t.map((e=>{let t;switch(m){case"media":t=e.src;break;case"attachment":case"url":t=e.link}const a=(0,n.createElement)("img",{src:e.src,alt:e.alt,"data-id":e.id,"data-link":e.link,className:e.id?`wp-image-${e.id}`:null});return(0,n.createElement)("li",{key:e.id||e.url,className:"carousel-slide"},(0,n.createElement)("figure",null,t?(0,n.createElement)("a",{href:t,target:d?"_blank":"_self",rel:"noopener"},a):a,e.caption&&e.caption.length>0&&(0,n.createElement)("figcaption",null,e.caption)))})))}})},967:(e,t)=>{var a;!function(){"use strict";var l={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var a=arguments[t];a&&(e=r(e,n(a)))}return e}function n(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var a in e)l.call(e,a)&&e[a]&&(t=r(t,a));return t}function r(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(a=function(){return o}.apply(t,[]))||(e.exports=a)}()}},a={};function l(e){var o=a[e];if(void 0!==o)return o.exports;var n=a[e]={exports:{}};return t[e](n,n.exports,l),n.exports}l.m=t,e=[],l.O=(t,a,o,n)=>{if(!a){var r=1/0;for(u=0;u<e.length;u++){for(var[a,o,n]=e[u],i=!0,s=0;s<a.length;s++)(!1&n||r>=n)&&Object.keys(l.O).every((e=>l.O[e](a[s])))?a.splice(s--,1):(i=!1,n<r&&(r=n));if(i){e.splice(u--,1);var c=o();void 0!==c&&(t=c)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[a,o,n]},l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var a in t)l.o(t,a)&&!l.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={670:0,448:0};l.O.j=t=>0===e[t];var t=(t,a)=>{var o,n,[r,i,s]=a,c=0;if(r.some((t=>0!==e[t]))){for(o in i)l.o(i,o)&&(l.m[o]=i[o]);if(s)var u=s(l)}for(t&&t(a);c<r.length;c++)n=r[c],l.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return l.O(u)},a=globalThis.webpackChunkarchive=globalThis.webpackChunkarchive||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var o=l.O(void 0,[448],(()=>l(910)));o=l.O(o)})();